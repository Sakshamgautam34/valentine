<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>â¤ï¸ My Valentine â¤ï¸</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="love-bg">

<audio id="bgMusic" loop>
  <source src="until-i-found-you.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<div class="love-container">
  <h1>ğŸ’ YAYYY!!! ğŸ’</h1>

  <p>
    Until I found you, I never knew what love truly felt like â¤ï¸ 
    You are my calm, my happiness, my forever ğŸ’–
  </p>

  <img src="us.jpg" alt="Our Love">

  <h2>Forever Yours ğŸ’˜</h2>
  
  <div id="timer" style="font-size: 1.2rem; margin-top: 10px; font-weight: bold; color: #ffe6eb;"></div>

  <p style="font-size: 0.8rem; opacity: 0.8; margin-top: 15px;">
    (Tap screen for music ğŸµ)
  </p>

  <br>
  <a href="more-love.html" class="next-btn">
    Want to see how much your husband loves you? Click me! ğŸ’˜
  </a>
</div>

<canvas id="confetti"></canvas>

<script>
  // CHANGE THIS DATE to when you met/married! (YYYY-MM-DD)
  const startDate = new Date("2020-01-01"); 

  setInterval(() => {
    const now = new Date();
    const diff = now - startDate;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    document.getElementById("timer").innerText = `Loving you for: ${days} Days! â¤ï¸`;
  }, 1000);
</script>

<script>
  const audio = document.getElementById("bgMusic");
  const playPromise = audio.play();
  if (playPromise !== undefined) {
    playPromise.catch(error => {
      console.log("Autoplay blocked. Waiting for touch.");
      document.body.addEventListener('click', unlockAudio);
      document.body.addEventListener('touchstart', unlockAudio);
    });
  }
  function unlockAudio() {
    audio.play();
    document.body.removeEventListener('click', unlockAudio);
    document.body.removeEventListener('touchstart', unlockAudio);
  }
</script>

<script>
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const pieces = Array.from({ length: 150 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 6 + 4,
  d: Math.random() * 20
}));

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#fff0f5"; // Light pink confetti
  pieces.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fill();
  });
  update();
}

function update() {
  pieces.forEach(p => {
    p.y += Math.cos(p.d) + 1;
    if (p.y > canvas.height) p.y = 0;
  });
}
setInterval(draw, 30);
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

<script src="script.js"></script>

</body>
</html>
